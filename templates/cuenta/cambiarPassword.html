{% extends 'base.html' %}
{% block content %}
<div class="col-lg-8">
  {% if user.is_authenticated %}
  <h2>Cambiar contraseña de usuario</h2>
  <form method="post">
    {% csrf_token %}
    <div class="input-group mb-3">
      <label class="input-group-text" for="{{ form.old_password.id_for_label }}">{{ form.old_password.label }}</label>
      <input type="password" class="form-control" name="{{ form.old_password.name }}" required id="{{ form.old_password.id_for_label }}">
    </div>
    {% if form.old_password.errors %}
      <div class="alert alert-danger" role="alert">
          {{ form.old_password.label }}: {{form.old_password.errors }}
      </div>
    {% endif %}
    <div class="input-group mb-3">
      <label class="input-group-text" for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>
      <input type="password" class="form-control" name="{{ form.new_password1.name }}" required id="{{ form.new_password1.id_for_label }}">
    </div>
    {% if form.new_password1.errors %}
      <div class="alert alert-danger" role="alert">
          {{ form.new_password1.label }}: {{form.new_password1.errors }}
      </div>
    {% endif %}
    <div class="input-group mb-3">
      <label class="input-group-text" for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>
      <input type="password" class="form-control" name="{{ form.new_password2.name }}" required id="{{ form.new_password2.id_for_label }}">
    </div>
    {% if form.new_password2.errors %}
      <div class="alert alert-danger" role="alert">
          {{ form.new_password2.label }}: {{form.new_password2.errors }}
      </div>
    {% endif %}
    <div class="btn-group" role="group">
      <a class="btn btn-dark" type="button" role="button" href="{% url 'cuenta' %}">Cancelar</a>
      <input type="submit" class="btn btn-primary" value="Guardar cambios" />
    </div>
  </form>
  {% else %}
  <div class="alert alert-danger" role="alert">Esta sección es solo para usuarios autorizados.</div>
  {% endif %}
</div>
{% endblock %}